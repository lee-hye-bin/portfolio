<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    .header{
      width: 100%;
      /* margin-bottom: 20px; */
    }
    .nav{
      display: flex;
      align-items: center;
      justify-content: space-between;
      width: 97.223%;
      height: 6.296%;
      padding: 0 20px;
      background-color: var(--sand);
      border-radius: 30px;
      position: fixed;
      left: 50%;
      top: 2.1%;
      transform: translateX(-50%);
      z-index: 100;
    }
    .nav a{
      color: var(--veige);
      font-family: var(--font-point-bold);
    }

    .nav-items > a.hidden{
      display: none;
    }
    .change-menu{
      display: none;
    }
    .change-menu.change{
      display: block;
    }
    .change-menu-wrap{
      display: flex;
      align-items: flex-end;
      justify-content: flex-end;
      gap: 20px;
    }
    .content{
    width: 100%;
    height: 770px;
    padding: 60px 20px 0 20px;
    border: 1px solid red;
    overflow-y: auto;

    /* 스크롤 숨김 (숨길지 커스텀할지 선택) */
    -ms-overflow-style: none; /* for Internet Explorer, Edge */
    scrollbar-width: none; /* for Firefox */
    overflow-y: scroll;
  }
  /* 스크롤 숨김 (숨길지 커스텀할지 선택) */
  .content::-webkit-scrollbar {
    display: none; /* for Chrome, Safari, and Opera */
  }
  .about-intro{
    border: 1px solid #000;
    width: 100%;
    height: 710px;
  }
    /* 기본 문장 스타일 */
    .about-intro li {
      opacity: 0; /* 기본적으로 숨김 */
      transition: opacity 0.5s ease-in-out; /* 부드러운 전환 */
      list-style: none; /* 불필요한 마커 제거 */
    }

    /* 블러 효과 애니메이션 */
    .text-blur-out {
      -webkit-animation: text-blur-out 1.2s cubic-bezier(0.550, 0.085, 0.680, 0.530) both;
      animation: text-blur-out 1.2s cubic-bezier(0.550, 0.085, 0.680, 0.530) both;
    }
  </style>
</head>
<body>
  <section class="content inner">
    <article class="about-intro">
      <ul id="about-intro-list"></ul>
    </article>
    <article class="dd">
      Lorem ipsum dolor sit amet consectetur adipisicing elit. Modi odio aliquam, alias qui quibusdam officia repellendus rem debitis! Consectetur, fugiat! Quisquam quae architecto fuga nam debitis! Nihil debitis ea ducimus ratione non placeat velit, voluptas voluptatibus assumenda ipsum doloribus, saepe deleniti culpa animi quasi minima provident. Tempore sequi consectetur facere est error odio iusto, voluptatem vero ratione, sit ad quidem doloremque aperiam libero ea eum voluptates minus atque possimus velit officiis mollitia! Eos, optio eius reprehenderit voluptates rerum quas soluta animi hic. Ullam consequuntur ad dignissimos explicabo laudantium voluptate porro omnis iste nesciunt. Omnis adipisci est expedita, laudantium repudiandae nam facilis placeat cumque necessitatibus earum alias deleniti dolor ad tempora quam mollitia commodi nostrum nulla exercitationem nemo eos beatae illum? Ex totam fugit, perferendis esse alias rerum officiis in, amet necessitatibus mollitia nostrum quae velit maxime possimus, accusantium at enim! Repellendus fuga recusandae distinctio rerum facilis officia non in nulla assumenda illo voluptatem beatae vel maxime pariatur voluptate ullam autem enim accusamus eaque, totam obcaecati! Illo hic id qui, blanditiis esse, neque nesciunt harum provident fuga quo non a facilis soluta. Enim dolor totam optio assumenda magni earum. Exercitationem labore natus accusantium porro excepturi, provident aperiam. Inventore accusantium neque, ratione rerum voluptatum, nostrum unde perferendis non natus eveniet architecto omnis corporis soluta cupiditate veritatis quas? Repudiandae excepturi, delectus veniam mollitia, necessitatibus laboriosam praesentium, totam accusantium quisquam sit consectetur. Quisquam nemo, fugiat pariatur libero suscipit fugit alias voluptatibus. Dolorum aliquid voluptate distinctio obcaecati nisi. Earum consectetur obcaecati illum, delectus cum deleniti corrupti cumque saepe, numquam debitis praesentium iure cupiditate aliquam consequuntur veniam? Aliquid facere ducimus vero eaque harum quia atque, quos itaque, eius, praesentium doloremque tenetur hic. Illo error at dicta maiores omnis laboriosam officiis aspernatur natus, perspiciatis eum modi, nobis dolorum perferendis voluptatibus, culpa eveniet voluptate quas recusandae nisi quis tempore fuga unde id possimus? Blanditiis eius facilis non est officia, harum nobis repellendus temporibus dignissimos ipsum suscipit eaque autem reiciendis quos eos asperiores fugit doloremque iste quaerat dolore libero sit velit atque? Dignissimos assumenda consequuntur maiores! Perspiciatis ducimus voluptatum quia veritatis nobis. Iusto enim, ratione possimus quas, laborum molestias eum atque nam distinctio eveniet odio! Perferendis tenetur aut enim voluptates eos! Sunt officia magni tenetur optio, cupiditate voluptatem quod ipsa molestias labore exercitationem aspernatur, accusantium, alias ea praesentium culpa repellat. Aperiam tempore adipisci suscipit reiciendis ipsum qui laudantium! Eum eligendi reiciendis dolores obcaecati recusandae rerum quaerat quod quam consequuntur a! Pariatur voluptatum fugiat sequi maxime similique consequuntur saepe et dignissimos quis accusantium, odit libero maiores ad est voluptate reprehenderit doloribus harum facere. Enim iusto incidunt aspernatur dicta molestiae nisi sint perferendis iure alias soluta. Laboriosam, nemo vel, odit eveniet natus tempora fugiat est, qui libero labore rerum suscipit commodi sed omnis deleniti debitis eos vero nobis maxime officiis molestias exercitationem sequi. Incidunt illum aliquam labore velit perspiciatis ea corrupti, consequuntur vitae dolore veniam atque magnam sequi temporibus unde id, voluptatem sint libero ut magni eos officia aspernatur at! Quisquam adipisci aspernatur tenetur debitis exercitationem, nihil magni id nobis recusandae inventore labore obcaecati porro iure nam laborum expedita quibusdam, maiores dolorum repellat dicta. Voluptatem praesentium ipsa quam voluptas mollitia, modi numquam quidem laboriosam illum possimus, vitae dolor, sint molestias a pariatur voluptatibus cum rerum hic delectus enim eos? Provident facere dolorum magnam iusto? Porro maiores ad, a aperiam sit totam dolorem iusto fugiat modi, nesciunt delectus. Explicabo incidunt eligendi odio quibusdam temporibus, deserunt harum sequi minus eaque, repudiandae iusto similique ipsam quaerat ducimus, eius rerum impedit repellat debitis minima. Fuga est quae sint quaerat nesciunt iusto odit natus, illo, minus neque explicabo! Placeat animi tempora odio deserunt numquam? Suscipit temporibus distinctio magnam provident doloremque impedit officia delectus exercitationem cupiditate modi quos consequuntur, placeat recusandae reiciendis ipsam deleniti ut ex eos. Ullam omnis maxime earum illo perferendis eius doloribus reiciendis, repellat officiis doloremque asperiores perspiciatis iusto rem exercitationem et molestias maiores dolorem! Molestias voluptas quasi blanditiis dolore, aliquid tempora ipsum vel nisi voluptatem alias dolorum reprehenderit hic sunt maxime qui. Laborum laudantium odit cum, accusamus mollitia ullam? Expedita vel delectus doloremque possimus, alias non totam quaerat sit qui obcaecati nostrum dignissimos! Quos, rem! Rem, officia debitis. Labore quis id voluptatum, sed quidem sint pariatur nemo molestiae eveniet aliquam ex est fugit optio omnis excepturi ratione minima qui commodi, dignissimos laudantium cupiditate, officia assumenda cum eos. Tenetur soluta quaerat labore at laboriosam repellat natus voluptatibus! Dolorem necessitatibus similique, numquam possimus modi nulla accusamus distinctio explicabo debitis, maiores perferendis cum ipsa, magnam voluptate est provident error cumque iure reiciendis commodi fugit totam! Molestias mollitia alias nesciunt excepturi nihil est nam eveniet sint, repudiandae temporibus dolor exercitationem consequatur praesentium fugiat quo suscipit iste iure ratione dignissimos delectus, nobis facere ab animi ipsa? Iure velit, quam labore consequuntur inventore fugiat, minima quae odio voluptate accusantium temporibus accusamus nostrum incidunt nobis itaque error. Voluptate veniam nobis id minima vero impedit minus corporis sequi ea saepe a dolores eum modi quis distinctio quidem, aspernatur repellendus, repellat corrupti ad quam quod. Neque illum dignissimos architecto, beatae, odio at quas adipisci tempore recusandae ducimus facere suscipit perspiciatis alias consequuntur, ipsam sequi nulla ipsum deserunt. Laboriosam iusto maxime numquam doloribus unde aliquam! Sunt et a rerum nulla excepturi aliquam. Quibusdam iste a sequi reprehenderit accusantium. Labore consequatur dicta tempore commodi veniam deserunt odit nobis sit, quasi autem aliquid officia modi, id unde est iste. Nostrum voluptatem molestiae deserunt veritatis eligendi aperiam repellat praesentium esse eaque ipsam culpa, perferendis tenetur. Cum nisi non libero illo perspiciatis voluptatum quidem voluptas doloribus, ab mollitia velit expedita distinctio aliquam iure sapiente officiis fuga explicabo unde laudantium, autem consequuntur delectus temporibus? Repellat consectetur veritatis aliquid accusamus quas, reprehenderit quis culpa vero nihil iure commodi delectus fuga cumque praesentium harum fugiat adipisci molestias quae libero eveniet numquam. Aperiam aut nihil similique rem dolorem natus, quidem vel? Sed laudantium necessitatibus rerum sint distinctio eum id nobis. Ut magnam fuga corrupti illo officiis recusandae molestias nobis reprehenderit laboriosam asperiores sit, minus quibusdam neque cumque sequi iure provident omnis modi eos. Eum veniam nam ducimus, quia ad pariatur perspiciatis!
    </article>
  </section>
  
  <script>
    function aboutIntroHandler() {
    const contentArea = document.querySelector('.content'); // 스크롤 컨테이너
    const aboutIntroList = document.getElementById('about-intro-list'); // 텍스트가 추가될 ul
    const introTexts = [
      '스크롤하면 보일 소개 문장1',
      '스크롤하면 보일 소개 문장2',
      '스크롤하면 보일 소개 문장3',
      '<h2>신입 프론트엔드 개발자</h2>', // HTML 태그 포함
      '이혜빈입니다'
    ];
    let currentTextIndex = 0; // 현재 출력 중인 문장의 인덱스
    let isAnimating = false; // 애니메이션 상태 확인
    let isScrollingAllowed = false; // 스크롤 활성화 여부

    console.log('aboutIntroHandler 시작됨');

    // 텍스트를 ul에 동적으로 추가
    introTexts.forEach((text, index) => {
      const listItem = document.createElement('li');
      if (text.startsWith('<h2>')) {
        listItem.innerHTML = text; // HTML 태그 포함된 텍스트 처리
      } else {
        const paragraph = document.createElement('p');
        paragraph.textContent = text; // 일반 텍스트 처리
        listItem.appendChild(paragraph);
      }
      aboutIntroList.appendChild(listItem); // ul에 li 추가
      console.log(`li 생성됨: ${text}, index: ${index}`);
    });

    // 스크롤 잠금
    function lockScroll() {
      document.body.style.overflow = 'hidden';
      console.log('스크롤 잠김');
    }

    // 스크롤 해제
    function unlockScroll() {
      document.body.style.overflow = 'auto';
      console.log('스크롤 활성화');
    }

    // 문장 출력 함수
    function showText(index) {
      const items = aboutIntroList.querySelectorAll('li');
      if (index < items.length) {
        isAnimating = true;
        console.log(`문장 출력: ${items[index].textContent}, index: ${index}`);
        items[index].style.opacity = '1'; // 문장 보이기
        items[index].classList.remove('text-blur-out'); // 블러 제거
        setTimeout(() => {
          isAnimating = false; // 애니메이션 상태 초기화
          console.log(`문장 출력 완료: index: ${index}`);
        }, 1200); // 애니메이션 지속 시간
      }
    }

    // 개별 문장 삭제 함수
    function hideText(index) {
      const items = aboutIntroList.querySelectorAll('li');
      if (index >= 0 && index < items.length) {
        isAnimating = true;
        console.log(`문장 삭제: ${items[index].textContent}, index: ${index}`);
        items[index].classList.add('text-blur-out'); // 블러 애니메이션 추가
        setTimeout(() => {
          items[index].style.opacity = '0'; // 문장 숨김
          isAnimating = false; // 애니메이션 상태 초기화
          console.log(`문장 삭제 완료: index: ${index}`);
        }, 1200); // 애니메이션 지속 시간
      }
    }

    // 모든 문장 삭제 함수
    function hideAllTexts() {
      const items = aboutIntroList.querySelectorAll('li');
      console.log('모든 문장 삭제 시작');
      items.forEach((item, index) => {
        item.classList.add('text-blur-out');
        setTimeout(() => {
          item.style.opacity = '0';
          console.log(`문장 삭제 완료: ${item.textContent}, index: ${index}`);
        }, 1200);
      });
      // 모든 문장이 삭제된 후 스크롤 활성화
      setTimeout(() => {
        unlockScroll();
        isScrollingAllowed = true;
        contentArea.removeEventListener('wheel', handleWheel); // 휠 이벤트 제거
        console.log('모든 문장 삭제 후 스크롤 활성화');
      }, 1300);
    }

    // 휠 이벤트 핸들러
    function handleWheel(event) {
      if (isScrollingAllowed) {
        console.log('스크롤이 활성화된 상태에서 휠 이벤트 무시');
        return; // 스크롤 활성화 상태면 이벤트 무시
      }
      if (isAnimating) {
        console.log('애니메이션 중인 상태에서 휠 이벤트 무시');
        return; // 애니메이션 중이면 이벤트 무시
      }

      if (event.deltaY > 0) {
        // 휠 아래로 스크롤
        if (currentTextIndex < introTexts.length) {
          console.log(`휠 아래로: 현재 인덱스 ${currentTextIndex}`);
          showText(currentTextIndex);
          currentTextIndex++;
        }

        if (currentTextIndex === introTexts.length) {
          console.log('모든 문장 출력 완료');
          hideAllTexts(); // 모든 문장 삭제
        }
      } else if (event.deltaY < 0) {
        // 휠 위로 스크롤
        console.log(`휠 위로: 현재 인덱스 ${currentTextIndex}`);
        if (currentTextIndex > 0) {
          currentTextIndex--;
          hideText(currentTextIndex); // 개별 문장 삭제
        }
      }
    }

    // 스크롤 이벤트 등록
    contentArea.addEventListener('wheel', handleWheel, { passive: false });

    // Intro 섹션에서 About Intro로 스크롤 전환 감지
    contentArea.addEventListener('scroll', () => {
      const scrollY = contentArea.scrollTop;
      const aboutIntroOffset = aboutIntroList.offsetTop;

      console.log(`스크롤 위치: ${scrollY}, aboutIntroOffset: ${aboutIntroOffset}`);

      if (scrollY >= aboutIntroOffset && !isScrollingAllowed) {
        console.log('About Intro 도달, 스크롤 잠금 시작');
        lockScroll(); // 스크롤 잠금
      }
    });
  }

  document.addEventListener('DOMContentLoaded', aboutIntroHandler);
  </script>
</body>
</html>